<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/register.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

</head>
<body>

    
    <header>
         <div class="bx bx-menu" id="menu-icon"></div>
        <div class="logo">RAPPID BID</div>
        <ul class="navlist">
            <li><a href="index.html">home</a></li>
            <li><a href="about.html">about</a></li>
            <li><a href="contact.html">contact</a></li>
        </ul>
        <div class="nav-right">
            <a href="index.html" class="btn">BACK TO HOME</a>
         </div>
    </header>
    <main>
        <h2>REGISTRATION DETAILS</h2>
     <div class="details">
      <form action="../log/register.php" method="post">
     First name<input name="fname" type="text" placeholder="enter your first name" required>
      Last name <input name="lname" type="text" placeholder="enter your last name" >
     Address<input name="address" type="text area" placeholder="enter your address" required>
      Pincode <input name="pincode" id="pincode" oninput="validatePincode()" type="text" placeholder="enter pincode" required>
      <div id="pincode_error" class="error"></div>
      Phone <input name="phone" id="phone" oninput="validatePhone()"  type="text" placeholder="enter your phone number" required>
      <div id="phone_error" class="error"></div>
     Alt phone <input name="altphone" id="altphone" oninput="validatePhone()"  type="text" placeholder="alternative phone number">
    
      Email <input name="email" id="email" oninput="validateEmail()" type="email" placeholder="enter your email" required>
      <div id="email_error" class="error"></div>
     Password <input name="pass" id="password"   oninput="validatePasswordMatch()" type="password" placeholder="enter password" required>
    <div id="pass_error" class="error"></div>
     Confirm password<input name="cpass" id="confirm_password" oninput="validatePasswordMatch()" type="password" placeholder="confirm your password" required>
    <div id="password_error" class="error"></div>
    <button name="register" id="submit">Sign up</button>
     </form>
     </div>
    </main>



    <footer>
        <div class="foot">
      <a href="index.html"><-Back</a>
       </div>
    </footer>

   <script type="text/javascript">
    let menu=document.querySelector('#menu-icon');
    let navlist=document.querySelector('.navlist');
    menu.onclick=()=>{
        menu.classList.toggle('bx-x');
        navlist.classList.toggle('open')
    }
    

            function validatePhone() {
        let phone = document.getElementsByName("phone")[0].value.trim();
        let error = document.getElementById("phone_error");
        let phoneRegex = /^[6-9]\d{9}$/; // Indian mobile numbers (starts with 6-9, total 10 digits)

        if (!phoneRegex.test(phone)) {
            error.textContent = "Please enter a valid 10-digit phone number.";
            error.style.color = "red";
            return false;
        } else {
            error.textContent = "Valid phone number.";
            error.style.color = "palegreen";
            return true;
        }
    }

    function validateAltPhone() {
        let altphone = document.getElementsByName("altphone")[0].value.trim();
        let error = document.getElementById("altphone_error");
        let phoneRegex = /^[6-9]\d{9}$/;

        if (altphone !== "" && !phoneRegex.test(altphone)) {
            error.textContent = "Please enter a valid alternative phone number.";
            error.style.color = "red";
            return false;
        } else {
            error.textContent = "";
            return true;
        }
    }
        function validatePincode() {
            let pincode = document.getElementById("pincode").value.trim();
            let error = document.getElementById("pincode_error");
            let pinRegex = /^[1-9][0-9]{5}$/;
            if (!pinRegex.test(pincode)) {
                error.textContent = "Pincode must be a valid 6-digit number.";
                error.style.color = "red";
                return false;
            } else {
                error.textContent = "Valid pincode.";
                error.style.color = "palegreen";
                return true;
            }
        }

        function validateEmail() {
            let email = document.getElementById("email").value.trim();
            let error = document.getElementById("email_error");
            let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                error.textContent = "Please enter a valid email address.";
                error.style.color = "red";
                return false;
            } else {
                error.textContent = "Valid email.";
                error.style.color = "palegreen";
                return true;
            }
        }
        function validatePasswordMatch() {
            let password = document.getElementById("password").value;
            let confirmPassword = document.getElementById("confirm_password").value;
            let error = document.getElementById("password_error");
            let errors = document.getElementById("pass_error");
             if( password.length < 6  )
            {
               errors.textContent = "Passwords must contain atleast 6 characters ";
                errors.style.color = "red";
            }
            else
            {
                errors.textContent = "";
            }
            if (password !== confirmPassword) {
                error.textContent = "Passwords do not match.";
                error.style.color = "red";
                return false;
            }else {
                error.textContent = "Passwords match.";
                error.style.color = "palegreen";
                return true;
            }
        }

        function validateForm() {
            let validPin = validatePincode();
            let validEmail = validateEmail();
            let validPass = validatePasswordMatch();
            let validPhone = validatePhone();
            return validPin && validEmail && validPass && validPhone; // Only submit if all are true
        }
    

   </script>  
</body>
</html>